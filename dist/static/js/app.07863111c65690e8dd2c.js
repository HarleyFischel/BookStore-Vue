webpackJsonp([1],{GgUM:function(t,e){},GrKM:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i=a("Tqaz"),n=a("qe0n"),o=a.n(n),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[this._m(0),this._v(" "),e("div",{staticClass:"container my-5"},[e("router-view")],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark"},[e("div",{staticClass:"container"},[e("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[this._v("My BookStore")]),this._v(" "),e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})]),this._v(" "),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNavDropdown"}},[e("ul",{staticClass:"navbar-nav"},[e("li",{staticClass:"nav-item active"},[e("a",{staticClass:"nav-link",attrs:{href:"#"}},[this._v("Manage Books "),e("span",{staticClass:"sr-only"},[this._v("(current)")])])])])])])])}]};var l=a("VU/8")({name:"App"},r,!1,function(t){a("GrKM")},null,null).exports,c=a("/ocq"),d=a("mtWM"),u=a.n(d),v={name:"Books",mounted(){this.fetchBooks()},data:()=>({items:[{id:"",title:"",subtitle:"",author:"",image:""}],fields:[{key:"id",sortable:!0},{key:"title",sortable:!0},{key:"subtitle",sortable:!1},{key:"author",sortable:!0},{key:"image",sortable:!1},{key:"actions",sortable:!1}],isLoading:!0,id:null,isDeleting:!1}),methods:{async fetchBooks(){try{this.items=(await u.a.get("http://app.azii.io/api/inventory/")).data}catch(t){console.log(t),alert(t.message)}this.isLoading=!1},async deleteBook(t){if(!1!==confirm("Are you sure you wish to delete this record?")){this.isDeleting=!0;try{await u.a.delete(`http://app.azii.io/api/inventory/${t.target.id}`,this.model),this.fetchBooks()}catch(t){console.log(t),alert(t.message)}this.isDeleting=!1}}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"d-flex justify-content-between align-items-center"},[t._m(0),t._v(" "),a("router-link",{staticClass:"btn btn-primary",attrs:{to:"/add"}},[t._v("Add new book")])],1),t._v(" "),a("div",{staticClass:"table-responsive mt-5 bg-white"},[t.isLoading?a("div",{staticClass:"text-center"},[t._v("Fetching Books")]):t._e(),t._v(" "),t.isDeleting?a("div",{staticClass:"text-center"},[t._v("Deleting Book")]):t._e(),t._v(" "),!t.isLoading&&t.items.length?a("b-table",{staticClass:"table",attrs:{responsive:"",hover:"",items:t.items,fields:t.fields},scopedSlots:t._u([{key:"cell(title)",fn:function(e){return[a("router-link",{attrs:{to:"/"+e.item.id}},[t._v(t._s(e.value))])]}},{key:"cell(image)",fn:function(t){return[a("img",{attrs:{src:t.value}})]}},{key:"cell(actions)",fn:function(e){return[a("div",{staticClass:"button-group"},[a("router-link",{staticClass:"btn btn-sm btn-secondary",attrs:{to:"/"+e.item.id}},[t._v("view")]),t._v(" "),a("router-link",{staticClass:"btn btn-sm btn-secondary",attrs:{to:"/edit/"+e.item.id}},[t._v("edit")]),t._v(" "),a("button",{staticClass:"btn btn-sm btn-secondary",attrs:{id:""+e.item.id},on:{click:t.deleteBook}},[t._v("Delete")])],1)]}}],null,!1,2812015153)}):t._e(),t._v(" "),t.isLoading||t.items.length?t._e():a("div",{staticClass:"text-center"},[t._v("No books found")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex flex-column align-items-start"},[e("h2",[this._v("All books")]),e("span",{staticClass:"text-muted"},[this._v("list of all books")])])}]};var p=a("VU/8")(v,m,!1,function(t){a("ppyF"),a("UU5y")},"data-v-0358a82f",null).exports,h={groups:[{legend:"Book Info",fields:[{type:"input",inputType:"text",label:"Title",model:"title",required:!0,validator:["string","required"]},{type:"input",inputType:"text",label:"Subtitle",model:"subtitle",required:!1,validator:["string","optional"]},{type:"input",inputType:"text",label:"Author",model:"author",required:!0,validator:["string","required"]},{type:"input",inputType:"text",label:"Image",model:"image",required:!1,validator:["string","optional"]},{type:"textArea",label:"Description",model:"description",required:!1,rows:4,hint:"Max 500 characters",max:500,validator:["string","optional"]}]}]},b={name:"AddBook",mounted(){},data:()=>({model:{title:"",subtitle:"",author:"",image:""},schema:h,formOptions:{validateAfterChanged:!0},isSaving:!1}),methods:{async saveBook(){try{await u.a.post("http://app.azii.io/api/inventory/",this.model).then(function(t){console.log(t.request),console.log(t.data)})}catch(t){console.log(t),alert(t.message)}this.$router.push("/")}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"d-flex justify-content-between align-items-center"},[t._m(0),t._v(" "),a("router-link",{staticClass:"btn btn-outline-secondary",attrs:{to:"/"}},[t._v("back")])],1),t._v(" "),a("div",{staticClass:"card pl-4 pt-5 pb-5 pr-4 mt-5"},[a("form",{attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.saveBook(e)}}},[a("vue-form-generator",{attrs:{tag:"div",schema:t.schema,options:t.formOptions,model:t.model}}),t._v(" "),a("div",{staticClass:"d-flex justify-content-end mt-3 pr-4"},[a("router-link",{staticClass:"btn btn-lg btn-secondary",attrs:{to:"/"}},[t._v("cancel")]),t._v(" "),a("button",{staticClass:"btn btn-primary btn-lg",attrs:{type:"submit"}},[t._v("\n                        "+t._s(t.isSaving?"Saving...":"Submit")+"\n                    ")])],1)],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex flex-column align-items-start"},[e("h2",[this._v("Add New")]),e("span",{staticClass:"text-muted"},[this._v("Add new record")])])}]};var _=a("VU/8")(b,f,!1,function(t){a("WPz1")},null,null).exports,g={name:"ViewBook",mounted(){this.fetchBook(this.$route.params.id)},data(){return{model:{title:"",subtitle:"",author:"",image:""},schema:h,id:this.$route.params.id,isSaving:!1}},methods:{async fetchBook(){try{this.model=(await u.a.get(`http://app.azii.io/api/inventory/${this.id}`)).data}catch(t){console.log(t),alert(t.message)}}}},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"d-flex justify-content-between align-items-center"},[t._m(0),t._v(" "),a("div",[a("router-link",{staticClass:"btn btn-outline-secondary",attrs:{to:"/"}},[t._v("back")]),t._v(" "),a("router-link",{staticClass:"btn btn-primary",attrs:{to:"/add"}},[t._v("Add new book")])],1)]),t._v(" "),a("div",{staticClass:"card pl-4 pt-5 pb-5 pr-4 mt-5"},[a("div",[a("img",{attrs:{src:t.model.image}}),t._v(" "),a("h2",[t._v(t._s(t.model.title))]),t._v(" "),a("h3",[t._v(t._s(t.model.subtitle))]),t._v(" "),a("h4",[t._v(t._s(t.model.author))]),t._v(" "),a("p",[t._v(t._s(t.model.description))])]),t._v(" "),a("div",{staticClass:"d-flex justify-content-end mt-3 pr-4"},[a("router-link",{staticClass:"btn btn-lg btn-secondary",attrs:{to:"/"}},[t._v("back")]),t._v(" "),a("router-link",{staticClass:"btn btn-lg btn-primary",attrs:{to:"/edit/"+t.model.id}},[t._v("edit")])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex flex-column align-items-start"},[e("h2",[this._v("Book Info")]),e("span",{staticClass:"text-muted"},[this._v("View record")])])}]};var k=a("VU/8")(g,y,!1,function(t){a("ugOW")},null,null).exports,C={name:"EditBook",mounted(){this.fetchBook(this.$route.params.id)},data(){return{model:{},schema:h,id:this.$route.params.id,isSaving:!1}},methods:{async fetchBook(){try{this.model=(await u.a.get(`http://app.azii.io/api/inventory/${this.id}`)).data}catch(t){console.log(t),alert(t.message)}},async updateBook(){this.isSaving=!0;try{await u.a.put(`http://app.azii.io/api/inventory/${this.id}`,this.model),this.fetchBook(this.$route.params.id)}catch(t){console.log(t),alert(t.message)}this.isSaving=!1,this.$router.push("/")}}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"d-flex justify-content-between align-items-center"},[t._m(0),t._v(" "),a("div",[a("router-link",{staticClass:"btn btn-outline-secondary",attrs:{to:"/"}},[t._v("back")]),t._v(" "),a("router-link",{staticClass:"btn btn-primary",attrs:{to:"/add"}},[t._v("Add new book")])],1)]),t._v(" "),a("div",{staticClass:"card pl-4 pt-5 pb-5 pr-4 mt-5"},[a("form",{attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.updateBook(e)}}},[a("vue-form-generator",{attrs:{tag:"div",schema:t.schema,model:t.model}}),t._v(" "),a("div",{staticClass:"d-flex justify-content-end mt-3 pr-4"},[a("router-link",{staticClass:"btn btn-lg btn-secondary",attrs:{to:"/"}},[t._v("cancel")]),t._v(" "),a("button",{staticClass:"btn btn-primary btn-lg"},[t._v("\n                        "+t._s(t.isSaving?"Saving...":"Update")+"\n                    ")])],1)],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex flex-column align-items-start"},[e("h2",[this._v("Edit Book")]),e("span",{staticClass:"text-muted"},[this._v("Edit record")])])}]};var w=a("VU/8")(C,x,!1,function(t){a("GgUM")},null,null).exports;s.default.use(c.a);var B=new c.a({routes:[{path:"/",name:"Books",component:p},{path:"/add",name:"AddBook",component:_},{path:"/:id",name:"ViewBook",component:k},{path:"/edit/:id",name:"EditBook",component:w}]});s.default.use(o.a),s.default.use(i.a),s.default.use(i.d),s.default.use(i.c),s.default.use(i.b),s.default.config.productionTip=!1,new s.default({el:"#app",render:t=>t(l),router:B,template:"<App/>"})},UU5y:function(t,e){},WPz1:function(t,e){},ppyF:function(t,e){},ugOW:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.07863111c65690e8dd2c.js.map